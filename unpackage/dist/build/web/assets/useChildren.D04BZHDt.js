import{d as e,h as n,j as s,k as t,o,a,w as r,l,g as i,n as u,f as d,t as c,e as p,i as m,V as b,W as h,U as f,X as y,Y as x}from"./index-CbEuBPGN.js";import{b as v,c as g,a as _}from"./wd-icon.RJnmohmk.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const N=k(e({name:"wd-badge",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...v,modelValue:{type:[Number,String,null],default:null},showZero:g(!1),bgColor:String,max:Number,isDot:Boolean,hidden:Boolean,type:_(void 0),top:Number,right:Number},setup(e){const b=e,h=n(null);s([()=>b.modelValue,()=>b.max,()=>b.isDot],(()=>{!function(){if(b.isDot)return;let e=b.modelValue;const n=b.max;e&&n&&"number"==typeof e&&!Number.isNaN(e)&&!Number.isNaN(n)&&(e=n<e?`${n}+`:e);h.value=e}()}),{immediate:!0,deep:!0});const f=t((()=>`background-color: ${b.bgColor};top:${b.top||0}px;right:${b.right||0}px`)),y=t((()=>{let e=!1;return!b.hidden&&(h.value||0===h.value&&b.showZero||b.isDot)&&(e=!0),e}));return(e,n)=>{const s=m;return o(),a(s,{class:i(["wd-badge",e.customClass]),style:u(e.customStyle)},{default:r((()=>[l(e.$slots,"default",{},void 0,!0),y.value?(o(),a(s,{key:0,class:i(["wd-badge__content","is-fixed",e.type?"wd-badge__content--"+e.type:"",e.isDot?"is-dot":""]),style:u(f.value)},{default:r((()=>[d(c(h.value),1)])),_:1},8,["class","style"])):p("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-de7bbb34"]]);function w(e){const s=b(e,null);if(s){const e=f(),{link:n,unlink:o,internalChildren:a}=s;n(e),h((()=>o(e)));return{parent:s,index:t((()=>a.indexOf(e)))}}return{parent:null,index:n(-1)}}const C=(e,n)=>{const s=e.indexOf(n);return-1===s?e.findIndex((e=>void 0!==n.key&&null!==n.key&&e.type===n.type&&e.key===n.key)):s};function O(e,n,s){const t=e&&e.subTree&&e.subTree.children?function(e){const n=[],s=e=>{Array.isArray(e)&&e.forEach((e=>{var t,o;(o=e)&&!0===o.__v_isVNode&&(n.push(e),(null==(t=e.component)?void 0:t.subTree)&&(n.push(e.component.subTree),s(e.component.subTree.children)),e.children&&s(e.children))}))};return s(e),n}(e.subTree.children):[];s.sort(((e,n)=>C(t,e.vnode)-C(t,n.vnode)));const o=s.map((e=>e.proxy));n.sort(((e,n)=>o.indexOf(e)-o.indexOf(n)))}function T(e){const n=y([]),s=y([]),t=f();return{children:n,linkChildren:o=>{x(e,Object.assign({link:e=>{e.proxy&&(s.push(e),n.push(e.proxy),O(t,n,s))},unlink:e=>{const t=s.indexOf(e);n.splice(t,1),s.splice(t,1)},children:n,internalChildren:s},o))}}}export{T as a,w as u,N as w};
